<style>
    .guideline-panel-bottom {
        position: fixed;
        bottom: 0;
        /* í™”ë©´ ì¢Œìš° ëì— ë¶™ì§€ ì•Šê³  ì¤‘ì•™ìœ¼ë¡œ */
        left: 50%;
        transform: translateX(-50%);
        /* container í´ë˜ìŠ¤ê°€ ì§€ì •í•˜ëŠ” max-widthë¥¼ ë”°ë¼ê°€ë„ë¡ */
        width: 100%;
        /* í•„ìš”í•˜ë‹¤ë©´ sm, lg breakpoint ì— ë§ì¶° ì¡°ì •í•˜ì„¸ìš” */
        max-height: 40vh;
        background-color: #fff;
        border-top: 1px solid #ccc;
        padding: 15px;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        overflow-y: auto;
        z-index: 1050;
        transition: transform 0.3s ease-in-out;
    }
    .guideline-toggle-btn {
        position: fixed;
        bottom: 10px;
        right: 20px;
        z-index: 1060;
    }
    </style>
    

<!-- guide_line.html -->
<div id="guidelinePanel" class="guideline-panel-bottom d-none">
    <label class="form-label fw-bold">ğŸ’¬ ì‘ì—…ì ì½”ë©˜íŠ¸ (ì„ íƒ)</label>
    <textarea class="form-control mb-2" name="comment" rows="2"
              placeholder="ì´ ë°ì´í„°ì— ëŒ€í•´ ì´ìŠˆê°€ ìˆë‹¤ë©´ ì‘ì„±í•´ì£¼ì„¸ìš”.">{{ comment }}</textarea>

    <div class="d-flex justify-content-between align-items-center mb-2">
        <strong>ğŸ“˜ ê°€ì´ë“œë¼ì¸</strong>
        <button type="button" class="btn-close btn-sm" aria-label="ë‹«ê¸°"
                onclick="toggleGuideline()"></button>
    </div>

    <div class="guideline-content small mb-3" id="guidelineContent">
        ë¡œë”© ì¤‘...
    </div>
</div>



<script>
    function toggleGuideline() {
        const panel = document.getElementById('guidelinePanel');
        panel.classList.toggle('d-none');
    
        if (!panel.classList.contains('d-none') && !panel.dataset.loaded) {
            fetch("{% url 'label_studio:guideline_summary' project.id %}")
                .then(res => res.text())
                .then(text => {
                    document.getElementById('guidelineContent').innerText = text;
                    panel.dataset.loaded = "true";
                });
        }
    }
    </script>
