{% block content %}
{% load markdown_extras %}
{% load custom_filters %}
{% load mathfilters %}
{% load static %}

<div class="overflow-x-auto">
  <table class="manager-table mb-0">
    <thead>
      <tr>
        {% with first_item=sample_data.0 %}
          {% for key, _ in first_item.items %}
          <th>{{ key }}</th>
          {% endfor %}
        {% endwith %}
      </tr>
    </thead>
    <tbody>
      {% for data in sample_data %}
      <tr tabindex="0">
        {% for key, item in data.items %}
        <td>
          <div x-data="{ expanded: false }"
               @click="expanded = !expanded"
               class="cursor-pointer">
            <div :class="expanded ? '' : 'text-truncate-2'">
              {{ item }}
            </div>
          </div>
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- Alpine.js -->
<script src="{% static 'cdn.min.js' %}"></script>
<style>
.text-truncate-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</style>
{% endblock %}
